"use strict";exports.id=841,exports.ids=[841],exports.modules={1296:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(1185),n=r.n(i);let a=new(n()).Schema({id:{type:String,required:!0},type:{type:String,enum:["text","image"],required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},fontSize:{type:Number,default:16},fontFamily:{type:String,default:"Arial"},color:{type:String,default:"#000000"},placeholder:{type:String,default:""},required:{type:Boolean,default:!0},pageIndex:{type:Number,default:0}}),o=new(n()).Schema({name:{type:String,required:!0},description:{type:String},category:{type:String,required:!0},backgroundImage:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},placeholders:[a],isPdf:{type:Boolean,default:!1},totalPages:{type:Number,default:1},pdfFilePath:{type:String},isActive:{type:Boolean,default:!0},createdBy:{type:String,required:!0},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});o.index({category:1,isActive:1}),o.index({createdBy:1}),o.index({isPdf:1}),o.virtual("placeholdersByPage").get(function(){if(!this.isPdf)return{0:this.placeholders};let e={};for(let t=0;t<this.totalPages;t++)e[t]=this.placeholders.filter(e=>e.pageIndex===t);return e}),o.methods.getPlaceholdersForPage=function(e){return this.isPdf?this.placeholders.filter(t=>t.pageIndex===e):this.placeholders},o.methods.addPlaceholderToPage=function(e,t=0){return e.pageIndex=this.isPdf?t:0,this.placeholders.push(e),this.save()},o.pre("save",function(e){this.updatedAt=new Date,e()});let d=n().models.Template||n().model("Template",o)},7547:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(1185),n=r.n(i);let a=process.env.MONGODB_URI||"mongodb://localhost:27017/template-creator";if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let o=global.mongoose;async function dbConnect(){if(o.conn)return o.conn;o.promise||(o.promise=n().connect(a,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}o||(o=global.mongoose={conn:null,promise:null});let d=dbConnect}};