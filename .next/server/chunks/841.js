"use strict";exports.id=841,exports.ids=[841],exports.modules={1296:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(1185),a=r.n(i);let n=new(a()).Schema({id:{type:String,required:!0},type:{type:String,enum:["text","image","textarea"],required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},fontSize:{type:Number,default:16},fontFamily:{type:String,default:"Arial"},color:{type:String,default:"#000000"},placeholder:{type:String,default:""},required:{type:Boolean,default:!0},pageIndex:{type:Number,default:0},lineHeight:{type:Number,default:1.2},maxLines:{type:Number,default:5},isGlobal:{type:Boolean,default:!1},pageOverrides:{type:Map,of:{x:Number,y:Number,width:Number,height:Number},default:{}}}),d=new(a()).Schema({name:{type:String,required:!0},description:{type:String},category:{type:String,required:!0},backgroundImage:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},placeholders:[n],isPdf:{type:Boolean,default:!1},totalPages:{type:Number,default:1},pdfFilePath:{type:String},isActive:{type:Boolean,default:!0},createdBy:{type:String,required:!0},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});d.index({category:1,isActive:1}),d.index({createdBy:1}),d.index({isPdf:1}),d.virtual("placeholdersByPage").get(function(){if(!this.isPdf)return{0:this.placeholders};let e={};for(let t=0;t<this.totalPages;t++)e[t]=this.placeholders.filter(e=>e.pageIndex===t);return e}),d.methods.getPlaceholdersForPage=function(e){return this.isPdf?this.placeholders.filter(t=>t.pageIndex===e):this.placeholders},d.methods.addPlaceholderToPage=function(e,t=0){if(!["text","image","textarea"].includes(e.type))throw Error(`Invalid placeholder type: ${e.type}`);return e.pageIndex=this.isPdf?t:0,this.placeholders.push(e),this.save()},d.pre("save",function(e){this.updatedAt=new Date,e()});let l=a().models.Template||a().model("Template",d)},7547:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(1185),a=r.n(i);let n=process.env.MONGODB_URI||"mongodb://localhost:27017/template-creator";if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let d=global.mongoose;async function dbConnect(){if(d.conn)return d.conn;d.promise||(d.promise=a().connect(n,{bufferCommands:!1}).then(e=>e));try{d.conn=await d.promise}catch(e){throw d.promise=null,e}return d.conn}d||(d=global.mongoose={conn:null,promise:null});let l=dbConnect}};